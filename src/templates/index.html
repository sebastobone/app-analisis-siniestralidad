<!doctype html>
<html lang="en">
  <head>
    <title>Plantilla Seguimiento Reservas</title>
    <link rel="stylesheet" href="{{ url_for('static', path='styles.css') }}" />
  </head>
  <nav>
    <h1>Plantilla Seguimiento Reservas</h1>
    <img src="static/logo_sura.png" alt="Logo-SURA" width="200" height="74" />
  </nav>

  <body>
    <div class="form-section">
      <h2>Estado</h2>
      <div id="log"></div>
    </div>

    <div class="form-section">
      <h2>Parametros</h2>
      <form id="ingresarParametros">
        <label for="negocio">Negocio:</label>
        <select id="negocio" name="negocio">
          <option value="arl">ARL</option>
          <option value="autonomia">Autonomia</option>
          <option value="empresariales">Empresariales</option>
          <option value="movilidad">Movilidad</option>
          <option value="salud">Salud</option>
          <option value="soat">SOAT</option>
        </select>

        <label for="mes_inicio">Mes de la primera ocurrencia:</label>
        <input
          type="text"
          id="mes_inicio"
          name="mes_inicio"
          placeholder="AAAAMM"
          required
        />

        <label for="mes_corte">Mes de corte:</label>
        <input
          type="text"
          id="mes_corte"
          name="mes_corte"
          placeholder="AAAAMM"
          required
        />

        <label for="tipo_analisis">Tipo de analisis:</label>
        <select id="tipo_analisis" name="tipo_analisis">
          <option value="triangulos">Triangulos</option>
          <option value="entremes">Entremes</option>
        </select>

        <label for="aproximar_reaseguro">Aproximar reaseguro:</label>
        <select id="aproximar_reaseguro" name="aproximar_reaseguro">
          <option value="0">No</option>
          <option value="1">Si</option>
        </select>

        <label for="cuadre_contable_sinis">Cuadrar siniestros contra SAP</label>
        <select id="cuadre_contable_sinis" name="cuadre_contable_sinis">
          <option value="0">No</option>
          <option value="1">Si</option>
        </select>

        <label for="add_fraude_soat">AÃ±adir fraude a siniestros (SOAT)</label>
        <select id="add_fraude_soat" name="add_fraude_soat">
          <option value="0">No</option>
          <option value="1">Si</option>
        </select>

        <label for="cuadre_contable_primas">Cuadrar primas contra SAP</label>
        <select id="cuadre_contable_primas" name="cuadre_contable_primas">
          <option value="0">No</option>
          <option value="1">Si</option>
        </select>

        <label for="nombre_plantilla">Nombre de la plantilla:</label>
        <input
          type="text"
          id="nombre_plantilla"
          name="nombre_plantilla"
          placeholder="Plantilla_Reservas"
          required
        />

        <button type="submit">Guardar parametros</button>
      </form>
    </div>

    <div class="form-section">
      <h2>Extraccion de informacion</h2>

      <form class="apiForm" endpoint="correr-query-siniestros">
        <button type="submit">Correr query siniestros</button>
      </form>
      <form class="apiForm" endpoint="correr-query-primas">
        <button type="submit">Correr query primas</button>
      </form>
      <form class="apiForm" endpoint="correr-query-expuestos">
        <button type="submit">Correr query expuestos</button>
      </form>
    </div>

    <div class="form-section">
      <h2>Controles de informacion</h2>
      <form class="apiForm" endpoint="generar-controles">
        <button type="submit">Generar controles</button>
      </form>
    </div>

    <div class="form-section">
      <h2>Plantilla</h2>
      <form class="apiForm" endpoint="abrir-plantilla">
        <button type="submit">Abrir plantilla</button>
      </form>
      <form class="apiForm" endpoint="preparar-plantilla">
        <button type="submit">Preparar plantilla</button>
      </form>

      <form id="modosPlantilla">
        <label for="plantilla">Plantilla:</label>
        <select id="plantilla" name="plantilla">
          <option value="frec">Frecuencia</option>
          <option value="seve">Severidad</option>
          <option value="plata" selected="selected">Plata</option>
          <option value="completar_diagonal">Completar diagonal</option>
        </select>

        <label for="modo">Modo:</label>
        <select id="modo" name="modo">
          <option value="generar">Generar</option>
          <option value="guardar">Guardar</option>
          <option value="traer">Traer</option>
          <option value="guardar_todo">Guardar todo</option>
          <option value="traer_guardar_todo">Traer y guardar todo</option>
        </select>

        <button type="submit">Ejecutar</button>
      </form>

      <form class="apiForm" endpoint="almacenar-analisis">
        <button type="submit">Almacenar analisis</button>
      </form>
    </div>

    <div class="form-section">
      <h2>Resultados</h2>
      <form class="apiForm" endpoint="actualizar-wb-resultados">
        <button type="submit">Actualizar y abrir archivo resultados</button>
      </form>
      <form class="apiForm" endpoint="generar-informe-ar">
        <button type="submit">Generar informe Actuario Responsable</button>
      </form>
    </div>

    <script src="static/logViewer.js"></script>
    <script src="static/ingresarParametros.js"></script>
    <script src="static/apiForms.js"></script>
    <script src="static/modosPlantilla.js"></script>
  </body>
</html>
